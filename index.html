<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>The Reef Oysterbay</title>
  <link rel="stylesheet" href="reefstyle.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Firebase SDKs (INSIDE HEAD) -->
  <script src="https://www.gstatic.com/firebasejs/10.12.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.1/firebase-storage-compat.js"></script>

  <script>
    // Your Firebase config
    const firebaseConfig = {
  apiKey: "AIzaSyDZjcsc447gUjGO2MUi6ostfEBxvOck6-U",
  authDomain: "the-reef-oysterbay.firebaseapp.com",
  projectId: "the-reef-oysterbay",
  storageBucket: "the-reef-oysterbay.firebasestorage.app", // ✅ FIXED
  messagingSenderId: "544800699946",
  appId: "1:544800699946:web:d71ba37eba4cbd3f6cb553"
};


    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    const storage = firebase.storage();
  </script>
</head>

<body>

  <header>
    <h1 class="heading">The Reef Oysterbay</h1>
    <p class="tagline">Dar es Salaam's Favorite Coastal Spot – Food by Day, Vibes by Night</p>
    <p class="tagline">Ocean Front Bar & Restaurant | Open 7 days • 10am - Late</p>
  </header>

  <nav id="sidebar">
    <ul>
      <li><a href="#" onclick="showSection('gallery')">Home</a></li>
      <li><a href="#" onclick="showSection('food-menu')">Food Menu</a></li>
      <li><a href="#" onclick="showSection('drinks-menu')">Drinks Menu</a></li>
      <li><a href="#" onclick="showSection('contact')">Contact Us</a></li>
    </ul>
  </nav>

  <section id="gallery" class="menu-section">
  <h2>Gallery</h2>


  <!-- Uploaded Images will show here -->
  <div class="image-menu" id="gallery-container">
    <!-- Images will load here later -->
  </div>
</section>


  <section id="food-menu" class="menu-section hidden">
    <h2>Food Menu</h2>
    <div class="image-menu">
      <img src="food1.png" alt="Food Menu 1">
      <img src="food2.png" alt="Food Menu 2">
      <img src="food3.png" alt="Food Menu 3">
      <img src="food4.png" alt="Food Menu 4">
      <img src="food5.png" alt="Food Menu 5">
      <img src="food6.png" alt="Food Menu 6">
      <img src="food7.png" alt="Food Menu 7">
      <img src="food8.png" alt="Food Menu 8">
    </div>
  </section>

  <section id="drinks-menu" class="menu-section hidden">
    <h2>Drinks Menu</h2>
    <div class="image-menu">
      <img src="drinks1.png" alt="Drinks Menu 1">
      <img src="drinks2.png" alt="Drinks Menu 2">
    </div>
  </section>

  <section id="contact" class="contact-section hidden">
    <h2>Contact Us</h2>
    <p><strong>Location:</strong><a href="https://www.google.com/maps/place/reef+oysterbay/data=!4m2!3m1!1s0x185c4d006b424559:0x8c80a71485a90e46?sa=X&ved=1t:242&ictx=111"> Toure Drive, Coco Beach, Dar es Salaam</a></p>
    <p><strong>Phone:</strong> <a href="tel:+255711484342">+255 711 484342</a></p>
    <p><strong>Instagram:</strong> <a href="https://www.instagram.com/thereefoysterbay/" target="_blank">@thereefoysterbay</a></p>
  </section>

  <footer>
    <p id="foot">© 2025 The Reef Oysterbay. All rights reserved.</p>
  </footer>

  

<script>
  function loadGalleryImages() {
  const galleryRef = firebase.storage().ref('gallery/');
  const container = document.getElementById('gallery-container');
  container.innerHTML = '';

  console.log("📦 DOM loaded, running loadGalleryImages()");
  console.log("🔍 Looking inside Firebase Storage → gallery/");
  console.log("🌐 Origin:", window.location.origin);
  console.log("📂 Bucket:", firebase.app().options.storageBucket);

  galleryRef.listAll()
    .then((res) => {
      console.log(`✅ Found ${res.items.length} items in 'gallery/'`);

      res.items.forEach((itemRef, index) => {
        console.log(`🔄 Getting URL for item ${index + 1}:`, itemRef.fullPath);

        itemRef.getDownloadURL()
          .then((url) => {
            console.log(`✅ Success: ${url}`);
            const img = document.createElement('img');
            img.src = url;
            img.alt = "Gallery Image";
            img.classList.add("gallery-image");
            container.appendChild(img);
          })
          .catch((urlError) => {
            console.error("❌ getDownloadURL failed for", itemRef.fullPath, urlError);
          });
      });
    })
    .catch((listError) => {
      console.error("🔥 listAll() failed!", listError);
      container.innerHTML = '<p>Error loading images.</p>';
    });
}


  document.addEventListener("DOMContentLoaded", () => {
    console.log("📦 DOM loaded, running loadGalleryImages()");
    loadGalleryImages();
  });

  function showSection(id) {
    const sections = document.querySelectorAll('section');
    sections.forEach(sec => sec.classList.add('hidden'));
    document.getElementById(id).classList.remove('hidden');
    if (id === 'gallery') loadGalleryImages();
  }
</script>


</body>
</html>
